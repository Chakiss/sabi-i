# 📊 คู่มือการใช้งาน: หน้ารายงานและสถิติ (Reports)

## 🎯 ภาพรวม
หน้ารายงานและสถิติช่วยให้คุณสามารถ:
- ✅ **ดูคิวในวันก่อนหน้า** และวันที่ต่างๆ
- ✅ **ตรวจสอบรายได้รายเดือน** พร้อมสถิติ
- ✅ **วิเคราะห์แนวโน้มธุรกิจ** จากข้อมูลย้อนหลัง
- ✅ **ติดตามประสิทธิภาพร้าน** รายวันและรายเดือน

---

## 🚪 การเข้าถึง

### วิธีที่ 1: จากหน้าแรก
1. **เข้าหน้าแรก** `/`
2. **คลิกการ์ด "รายงานและสถิติ"** 📊
3. **หรือไปที่ URL** `http://localhost:3001/reports`

### วิธีที่ 2: จาก Dashboard
1. **เข้าหน้า Dashboard** `/dashboard`
2. **ส่วนท้าย "การจัดการ"**
3. **คลิก "รายงานและสถิติ"** 📊

---

## 📅 รายงานรายวัน (Daily Report)

### ฟีเจอร์หลัก:
- **เลือกวันที่** ได้ตั้งแต่วันแรกจนถึงวันปัจจุบัน
- **แสดงคิวทั้งหมด** ในวันที่เลือก
- **คำนวณรายได้** จากคิวที่เสร็จแล้วเท่านั้น
- **ดูรายละเอียดแต่ละคิว** พร้อมสถานะ

### การใช้งาน:
1. **เลือกวันที่** จาก Date Picker
2. **ดูสถิติรวม:**
   - จำนวนคิวทั้งหมด
   - รายได้รวมในวันนั้น
3. **ดูรายละเอียดคิว:**
   - ชื่อลูกค้า + เบอร์โทร
   - สถานะ (รอคิว/กำลังนวด/เสร็จแล้ว)
   - เวลานัดหมาย
   - คอร์สและหมอนวด
   - รายได้ (เฉพาะคิวที่เสร็จแล้ว)

### ตัวอย่างการแสดงผล:
```
📊 รายงานรายวัน
วันที่: 19 ก.ค. 2025

┌─────────────────────────────────────┐
│         สถิติรวม                    │
│  🎯 คิวทั้งหมด: 5 คิว               │
│  💰 รายได้: ฿1,250                  │
└─────────────────────────────────────┘

รายละเอียดคิว:
┌─────────────────────────────────────┐
│ คุณลูกค้า A  📞 081-234-5678        │
│ 🟢 เสร็จแล้ว                        │
│ ⏰ 09:00 | 💆‍♀️ นวดไทย | 👤 คุณสมหญิง │
│ 💰 ฿300                            │
└─────────────────────────────────────┘
```

---

## 📈 รายงานรายเดือน (Monthly Report)

### ฟีเจอร์หลัก:
- **เลือกเดือน/ปี** ด้วยปุ่มลูกศรซ้าย-ขวา
- **สถิติรวมรายเดือน** ครบถ้วน
- **อัตราความสำเร็จ** ของคิว
- **รายได้เฉลี่ย** ต่อวันและต่อคิว
- **รายละเอียดรายวัน** ในเดือนนั้น

### การใช้งาน:
1. **เลือกเดือน:** ใช้ปุ่ม ◀ ▶ เพื่อเปลี่ยนเดือน
2. **ดูสถิติรวม:**
   - คิวทั้งหมดในเดือน
   - รายได้รวมทั้งเดือน
3. **วิเคราะห์ประสิทธิภาพ:**
   - คิวเสร็จสิ้น vs คิวทั้งหมด
   - อัตราความสำเร็จ (%)
   - รายได้เฉลี่ย/วัน
   - รายได้เฉลี่ย/คิว
4. **ดูรายละเอียดรายวัน:**
   - วันไหนมีคิวบ้าง
   - รายได้ในแต่ละวัน

### ตัวอย่างการแสดงผล:
```
📊 รายงานรายเดือน
กรกฎาคม 2025

┌─────────────────────────────────────┐
│         สถิติรวม                    │
│  🎯 คิวทั้งหมด: 120 คิว             │
│  💰 รายได้รวม: ฿42,500              │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│       สถิติรายเดือน                 │
│  ✅ คิวเสร็จสิ้น: 115               │
│  📊 อัตราความสำเร็จ: 96%            │
│  💰 รายได้เฉลี่ย/วัน: ฿1,371        │
│  💰 รายได้เฉลี่ย/คิว: ฿370          │
└─────────────────────────────────────┘

รายละเอียดรายวัน:
- 20 ก.ค.: 4 คิว | ฿1,200
- 19 ก.ค.: 6 คิว | ฿1,850
- 18 ก.ค.: 3 คิว | ฿900
```

---

## 🎨 การออกแบบ UI

### ธีมสี:
- 🔵 **สีหลัก:** Indigo (น้ำเงินม่วง)
- 🟢 **รายได้:** สีเขียว  
- 🟡 **สถิติ:** สีเหลือง/ทอง
- 🟣 **เฉลี่ย:** สีม่วง

### Layout:
- **2 คอลัมน์** ในหน้าจอใหญ่
- **1 คอลัมน์** ในหน้าจอเล็ก (Mobile)
- **Glass Card** สวยงามตามธีมเดียวกัน
- **Scroll Area** สำหรับรายการยาว

---

## 📊 การคำนวณและสถิติ

### รายได้รายวัน:
```javascript
รายได้ = Σ (คิวที่เสร็จแล้ว × ราคาตามคอร์สและเวลา)
```

### รายได้รายเดือน:
```javascript
รายได้รวม = Σ (รายได้รายวันทั้งเดือน)
รายได้เฉลี่ย/วัน = รายได้รวม ÷ จำนวนวันในเดือน
รายได้เฉลี่ย/คิว = รายได้รวม ÷ คิวเสร็จสิ้น
อัตราความสำเร็จ = (คิวเสร็จสิ้น ÷ คิวทั้งหมด) × 100%
```

### เงื่อนไขสำคัญ:
- ✅ **นับรายได้:** เฉพาะคิวสถานะ `'done'` (เสร็จแล้ว)
- ❌ **ไม่นับ:** คิว `'pending'` หรือ `'in_progress'`
- 🔍 **ข้อมูลย้อนหลัง:** ตั้งแต่วันที่มีข้อมูลแรก

---

## ⚡ การทำงานของระบบ

### ฐานข้อมูล:
- **Firebase Firestore:** สำหรับ Production
- **Mock Data:** สำหรับ Development/Testing
- **Auto Switch:** เปลี่ยนโหมดอัตโนมัติ

### การโหลดข้อมูล:
- **Loading State:** แสดงสถานะกำลังโหลด
- **Error Handling:** จัดการข้อผิดพลาด
- **Caching:** เก็บข้อมูลใน State ชั่วคราว

### Performance:
- **Date Range Query:** ดึงข้อมูลตามช่วงเวลาที่เลือก
- **Client-side Filtering:** กรองข้อมูลฝั่ง Frontend
- **Lazy Loading:** โหลดเมื่อต้องการใช้

---

## 🎯 Use Cases การใช้งาน

### สำหรับเจ้าของร้าน:
1. **ติดตามยอดขาย** รายวัน/รายเดือน
2. **วิเคราะห์แนวโน้ม** เพื่อวางแผนธุรกิจ
3. **เปรียบเทียบผลงาน** ระหว่างเดือน
4. **ประเมินประสิทธิภาพ** ของทีมงาน

### สำหรับผู้จัดการ:
1. **ตรวจสอบประวัติ** ลูกค้า/คิว
2. **วางแผนกำลังคน** ตามสถิติ
3. **ปรับกลยุทธ์การตลาด** จากข้อมูล
4. **รายงานผู้บริหาร** ด้วยข้อมูลที่ถูกต้อง

### สำหรับพนักงาน:
1. **ทบทวนการทำงาน** ในวันที่ผ่านมา
2. **เตรียมความพร้อม** สำหรับวันใหม่
3. **เรียนรู้จากข้อมูล** เพื่อปรับปรุง

---

## 💡 เคล็ดลับการใช้งาน

### การเลือกวันที่:
- **เริ่มจากเมื่อวาน** เพื่อดูข้อมูลล่าสุด
- **เปรียบเทียบ** วันเดียวกันของสัปดาห์ก่อน
- **หาแพทเทิร์น** เช่น วันไหนคิวเยอะ

### การวิเคราะห์เดือน:
- **ดูอัตราความสำเร็จ** หากต่ำ อาจมีปัญหา
- **รายได้เฉลี่ย/คิว** ช่วยประเมินคุณภาพบริการ
- **เปรียบเทียบเดือนก่อน** เพื่อดูการเติบโต

### การใช้ข้อมูล:
- **ถ่ายภาพหน้าจอ** สำหรับนำเสนอ
- **บันทึกสถิติ** ในสมุดหรือไฟล์แยก
- **วางแผน** จากแนวโน้มที่พบ

---

## 🚨 ข้อควรระวัง

### ข้อมูลที่ไม่มี:
- หากวันที่เลือก**ไม่มีข้อมูล** จะแสดง "ไม่มีคิวในวันนี้"
- หากเดือนที่เลือก**ไม่มีข้อมูล** จะแสดง "ไม่มีข้อมูลในเดือนนี้"

### การคำนวณ:
- **รายได้นับเฉพาะคิวเสร็จแล้ว** เท่านั้น
- **ถ้าคิวยกเลิก** จะไม่นับรายได้
- **ถ้าข้อมูลคอร์สหายไป** รายได้อาจเป็น 0

### ประสิทธิภาพ:
- **เดือนที่มีข้อมูลเยอะ** อาจใช้เวลาโหลดนาน
- **เครื่องช้า** อาจมี Lag ในการเปลี่ยนวันที่
- **เน็ตช้า** ข้อมูลอาจไม่อัพเดท

---

## 🔮 การพัฒนาต่อไป

### ฟีเจอร์ที่วางแผน:
- 📊 **Charts/Graphs** แสดงแนวโน้มแบบกราฟ
- 📈 **เปรียบเทียบปี** ดูการเติบโตรายปี
- 💾 **Export ข้อมูล** เป็น CSV/PDF
- 🎯 **เป้าหมายรายเดือน** ตั้งเป้าและติดตาม
- 📱 **Mobile Optimization** ปรับให้เหมาะกับมือถือ
- 🔔 **การแจ้งเตือน** เมื่อถึงเป้าหมาย
- 🤖 **AI Analysis** วิเคราะห์แนวโน้มด้วย AI

### การปรับปรุง UI/UX:
- 🎨 **Theme Options** เปลี่ยนสีธีม
- 📊 **Interactive Charts** กราฟคลิกได้
- 🔍 **Search/Filter** ค้นหาข้อมูลเฉพาะ
- ⭐ **Favorites** บันทึกช่วงวันที่ที่ชอบ

---

## 🎉 สรุป

หน้า**รายงานและสถิติ**เป็นเครื่องมือสำคัญสำหรับ:

✅ **ติดตามผลงาน** - ดูว่าร้านทำงานได้ดีแค่ไหน  
✅ **วิเคราะห์แนวโน้ม** - หาโอกาสพัฒนาธุรกิจ  
✅ **วางแผนอนาคต** - ใช้ข้อมูลตัดสินใจ  
✅ **ปรับปรุงบริการ** - หาจุดที่ต้องแก้ไข

**พร้อมใช้งานแล้ว!** 🚀

---

*📄 เอกสารนี้จัดทำขึ้นสำหรับ Saba-i Massage Management System v1.0*

---

## 📸 ตัวอย่างหน้าจอ

### รายงานรายวัน:
```
┌─────────────────────────────────────┐
│ 📅 รายงานรายวัน                    │
│                                     │
│ เลือกวันที่: [19/07/2025]          │
│                                     │
│ ┌─────────┐ ┌─────────┐             │
│ │ 5 คิว   │ │ ฿1,250  │             │
│ │ ทั้งหมด  │ │ รายได้  │             │
│ └─────────┘ └─────────┘             │
│                                     │
│ ▼ รายละเอียดคิว                    │
│ [คิวลูกค้า A - เสร็จแล้ว - ฿300]    │
│ [คิวลูกค้า B - เสร็จแล้ว - ฿450]    │
│ [คิวลูกค้า C - รอคิว - ฿0]          │
└─────────────────────────────────────┘
```

### รายงานรายเดือน:
```
┌─────────────────────────────────────┐
│ 📊 รายงานรายเดือน                   │
│                                     │
│ ◀ 7/2025 ▶                         │
│ กรกฎาคม 2025                        │
│                                     │
│ ┌─────────┐ ┌──────────┐            │
│ │ 120 คิว │ │ ฿42,500  │            │
│ │ ทั้งหมด  │ │ รายได้รวม │            │
│ └─────────┘ └──────────┘            │
│                                     │
│ 📊 สถิติรายเดือน                    │
│ • คิวเสร็จสิ้น: 115                 │
│ • อัตราความสำเร็จ: 96%              │
│ • รายได้เฉลี่ย/วัน: ฿1,371          │
│ • รายได้เฉลี่ย/คิว: ฿370            │
│                                     │
│ ▼ รายละเอียดรายวัน                 │
│ [20 ก.ค. - 4 คิว - ฿1,200]         │
│ [19 ก.ค. - 6 คิว - ฿1,850]         │
│ [18 ก.ค. - 3 คิว - ฿900]            │
└─────────────────────────────────────┘
```

**พร้อมสำหรับการใช้งาน!** 📊✨
